<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>(ì£¼)ë©”íŠ¸ë¡œ R & S AI ì•±</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3498db;
            --accent-color: #2980b9;
            --success-color: #2ecc71;
            --dark-blue: #2c3e50;
            --light-gray: #f8f9fa;
            --border-radius: 12px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #e9ecef;
            margin: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
        }

        .app-container {
            width: 100%;
            max-width: 500px;
            background: #ffffff;
            border-radius: var(--border-radius);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 1px solid #dee2e6;
        }

        /* 1. ìƒë‹¨ í—¤ë”: ë²„ì „ ì •ë³´ í¬í•¨ */
        header {
            background-color: var(--dark-blue);
            color: white;
            padding: 18px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        header h1 { margin: 0; font-size: 1.2rem; font-weight: 700; letter-spacing: -0.5px; }
        .ver-info { font-size: 0.75rem; color: #bdc3c7; background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 20px; }

        /* 2. ì‚¬ì§„ ë¶„ì„ ì˜ì—­ (í•µì‹¬ ë³€ê²½ ì‚¬í•­) */
        .ai-analysis-box {
            padding: 20px;
            background: linear-gradient(180deg, #fff 0%, #f1f4f8 100%);
        }
        .upload-trigger {
            border: 2px dashed var(--primary-color);
            border-radius: var(--border-radius);
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }
        .upload-trigger:active { transform: scale(0.98); background: #f0f7ff; }
        .upload-trigger .icon { font-size: 40px; margin-bottom: 10px; display: block; }
        .upload-trigger p { margin: 5px 0; color: var(--primary-color); font-weight: bold; }
        .upload-trigger span { font-size: 0.8rem; color: #888; }

        /* 3. ì…ë ¥ í¼ ê·¸ë¦¬ë“œ */
        .form-container {
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        .input-group { display: flex; flex-direction: column; }
        .input-group.full { grid-column: span 2; }
        
        label { font-size: 0.85rem; color: #495057; font-weight: 600; margin-bottom: 5px; }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 0.95rem;
            outline: none;
            transition: border-color 0.2s;
        }
        input:focus { border-color: var(--primary-color); }

        /* 4. ì‚¬ì§„ ì—…ë¡œë“œ ì˜ì—­ */
        .photo-previews { padding: 0 20px 20px; }
        .photo-box {
            border: 1px dashed #adb5bd;
            border-radius: 8px;
            padding: 25px;
            text-align: center;
            margin-bottom: 10px;
            color: #6c757d;
            font-size: 0.9rem;
            background-color: #f8f9fa;
        }

        /* 5. í•˜ë‹¨ ë²„íŠ¼ */
        .btn-row {
            display: flex;
            gap: 10px;
            padding: 0 20px 25px;
        }
        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        .btn-save { background-color: var(--success-color); color: white; }
        .btn-next { background-color: var(--primary-color); color: white; }
        .btn:active { opacity: 0.8; }

        #aiFileInput { display: none; }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        #loadingOverlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 1000;
        }
    </style>
</head>
<body>

<div id="loadingOverlay">AIê°€ í™•ì¸ì„œë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>

<div class="app-container">
    <header>
        <h1>(ì£¼)ë©”íŠ¸ë¡œ R & S AI ì•±</h1>
        <div class="ver-info">Ver 1.0.2 - Gemini 3.0</div>
    </header>

    <div class="ai-analysis-box">
        <div class="upload-trigger" onclick="document.getElementById('aiFileInput').click()">
            <span class="icon">ğŸ¤–</span>
            <p>í™•ì¸ì„œ ì‚¬ì§„(í•„ìˆ˜ì…ë ¥)</p>
            <span>ì‚¬ì§„ì„ ì°ê±°ë‚˜ ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒí•˜ì„¸ìš”</span>
        </div>
        <input type="file" id="aiFileInput" accept="image/*" onchange="startAIAnalysis(this)">
    </div>

    <div class="form-container">
        <div class="input-group">
            <label>1. í˜„ì¥ëª…</label>
            <input type="text" id="siteName" placeholder="í˜„ì¥ ì´ë¦„">
        </div>
        <div class="input-group">
            <label>2. í•˜ìNo</label>
            <input type="text" id="defectNo" placeholder="ë²ˆí˜¸ ìë™ì…ë ¥">
        </div>
        <div class="input-group">
            <label>3. ë™/í˜¸</label>
            <input type="text" id="unitNo" value="101-1001">
        </div>
        <div class="input-group">
            <label>4. ì ‘ìˆ˜ì¼</label>
            <input type="date" id="regDate" value="2026-02-01">
        </div>
        <div class="input-group">
            <label>5. ì ‘ìˆ˜ë‹¨ê³„</label>
            <select id="stage">
                <option>1ë…„ì°¨</option>
                <option>2ë…„ì°¨</option>
                <option>3ë…„ì°¨</option>
            </select>
        </div>
        <div class="input-group">
            <label>6. ì‹¤ëª…</label>
            <input type="text" id="userName" placeholder="ê³ ê°ëª…">
        </div>
        <div class="input-group">
            <label>7. ê³µì¢…</label>
            <input type="text" id="workType" placeholder="ìˆ˜ë¦¬ ì¢…ë¥˜">
        </div>
        <div class="input-group">
            <label>8. ì—…ì²´ëª…</label>
            <input type="text" id="companyName" placeholder="ë‹´ë‹¹ ì—…ì²´">
        </div>
        <div class="input-group full">
            <label>9. í•˜ìë‚´ìš©</label>
            <textarea id="details" rows="3" placeholder="AIê°€ ë¶„ì„í•œ ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— ì…ë ¥ë©ë‹ˆë‹¤."></textarea>
        </div>
    </div>

    <div class="photo-previews">
        <div class="photo-box">ğŸ“· ìˆ˜ë¦¬ì „ ì‚¬ì§„ ì—…ë¡œë“œ</div>
        <div class="photo-box">ğŸ“· ìˆ˜ë¦¬í›„ ì‚¬ì§„ ì—…ë¡œë“œ</div>
    </div>

    <div class="btn-row">
        <button class="btn btn-save">ë°ì´í„° ì €ì¥</button>
        <button class="btn btn-next">ë‹¤ìŒ ì…ë ¥</button>
    </div>
</div>

<script>
    // 1. AI ë¶„ì„ ì‹œì‘ í•¨ìˆ˜
    function startAIAnalysis(input) {
        if (input.files && input.files[0]) {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = 'flex';

            // 2. AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ (1.5ì´ˆ í›„ ë°ì´í„° ì…ë ¥)
            setTimeout(() => {
                // ì´ ë¶€ë¶„ì— ë‚˜ì¤‘ì— ì‹¤ì œ Gemini API ì‘ë‹µ ë°ì´í„°ë¥¼ ë§¤ì¹­í•˜ë©´ ë©ë‹ˆë‹¤.
                document.getElementById('siteName').value = "ë©”íŠ¸ë¡œ ë˜ë¯¸ì•ˆ ë‹¨ì§€";
                document.getElementById('defectNo').value = "METRO-2026-001";
                document.getElementById('userName').value = "ë°•ì •í›ˆ";
                document.getElementById('workType').value = "ì°½í˜¸ ì°½ì‚´ ë³´ìˆ˜";
                document.getElementById('companyName').value = "ë©”íŠ¸ë¡œ ìœˆë„ìš°";
                document.getElementById('details').value = "í•˜ë¶€ ë ˆì¼ ê· ì—´ë¡œ ì¸í•œ ëˆ„ìˆ˜ í˜„ìƒ í™•ì¸ë¨. ì‹¤ë¦¬ì½˜ ì¬ì½”í‚¹ ì‘ì—… í•„ìš”.";
                
                overlay.style.display = 'none';
                alert("AIê°€ í™•ì¸ì„œë¥¼ ë¶„ì„í•˜ì—¬ ë‚´ìš©ì„ ìë™ìœ¼ë¡œ ì±„ì› ìŠµë‹ˆë‹¤.");
            }, 2000);
        }
    }

    // 3. ì ‘ìˆ˜ì¼ ì˜¤ëŠ˜ ë‚ ì§œë¡œ ìë™ ì„¤ì •
    window.onload = function() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('regDate').value = today;
    }
</script>

</body>
</html>
